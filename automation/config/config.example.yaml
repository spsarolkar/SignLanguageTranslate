# SignLanguageTranslate Automation Configuration - Example Template
# Copy this file to config.yaml and update values as needed

project:
  # Your Xcode project name
  name: SignLanguageTranslate
  
  # Path to your .xcodeproj file (relative to automation directory)
  path: ../SignLanguageTranslate.xcodeproj
  
  # Main scheme for building
  scheme: SignLanguageTranslate
  
  # Test scheme (usually same as main scheme + Tests)
  test_scheme: SignLanguageTranslateTests
  
  # Bundle identifier
  bundle_id: com.yourcompany.SignLanguageTranslate
  
  # If using workspace instead of project, set path here
  workspace: null

simulator:
  # Target simulator for testing
  # Use `xcrun simctl list devices` to see available devices
  name: "iPad Pro (11-inch) (3rd generation)"
  
  # iOS version
  os: "26.2"
  
  # Device type identifier (optional, helps with exact matching)
  device_type_id: "com.apple.CoreSimulator.SimDeviceType.iPad-Pro-11-inch-3rd-generation-8GB"
  
  # If you know the exact UDID, set it here to skip discovery
  udid: null

automation:
  # Maximum retry attempts for a single step (build or test)
  max_retries_per_step: 5
  
  # Maximum total retries for entire phase
  max_retries_per_phase: 15
  
  # Timeout for xcodebuild build command (seconds)
  build_timeout_seconds: 180
  
  # Timeout for xcodebuild test command (seconds)
  test_timeout_seconds: 300
  
  # Delay before taking screenshot (let UI settle)
  screenshot_delay_seconds: 3
  
  # Rate limit handling
  rate_limit_base_wait_seconds: 60
  rate_limit_max_wait_seconds: 900
  rate_limit_backoff_multiplier: 2
  
  # Feature toggles
  auto_commit: true
  capture_screenshots: true
  update_dashboard_interval_seconds: 30
  pause_between_phases_seconds: 5

claude:
  # true = use 'claude' CLI command
  # false = use Anthropic Python API directly
  use_cli: true
  
  # Claude model to use
  # Options: claude-opus-4-5-20250514, claude-sonnet-4-20250514
  model: claude-opus-4-5-20250514
  
  # Maximum tokens in response
  max_tokens: 16000
  
  # Environment variable containing API key (for API mode)
  api_key_env: ANTHROPIC_API_KEY
  
  # Include existing project files as context
  include_project_context: true
  
  # Glob patterns for context files
  context_files:
    - "../SignLanguageTranslate/Core/**/*.swift"
    - "../SignLanguageTranslate/Features/**/*.swift"

git:
  # Enable git operations
  enabled: true
  
  # Automatically commit after successful phase
  auto_commit: true
  
  # Automatically push after commit
  auto_push: false
  
  # Commit message template (Jinja2 format)
  # Available variables: module, phase_id, phase_name, description, iterations, duration
  commit_message_template: |
    feat({{ module }}): Phase {{ phase_id }} - {{ phase_name }}
    
    {{ description }}
    
    Iterations: {{ iterations }}
    Duration: {{ duration }}
    
    ðŸ¤– Generated by SignLanguageTranslate Automation
  
  # Create feature branches for each phase
  use_feature_branches: false
  branch_prefix: "auto/"
  
  # Pull request settings
  create_pr: false
  pr_base_branch: main

github_pages:
  # Enable GitHub Pages dashboard
  enabled: true
  
  # Branch for GitHub Pages
  branch: gh-pages
  
  # Directory to publish
  publish_dir: automation/dashboard
  
  # When to update dashboard
  update_on_phase_start: true
  update_on_phase_complete: true
  update_on_error: true
  update_on_rate_limit: true
  
  # Auto-push dashboard changes
  auto_push: true

analytics:
  # Enable analytics collection
  enabled: true
  
  # SQLite database path
  database_path: state/analytics.db
  
  # Export to JSON for dashboard
  export_json: true
  export_path: dashboard/data/analytics.json
  
  # What to track
  track_token_usage: true
  track_time_per_phase: true
  track_error_frequency: true
  track_iterations: true
  track_file_changes: true

logging:
  # Console log level: DEBUG, INFO, WARNING, ERROR
  level: INFO
  
  # File log level (usually more verbose)
  file_level: DEBUG
  
  # Use Rich for colored console output
  console_format: rich
  show_timestamps: true
  
  # Log file settings
  log_dir: logs
  log_filename_format: "automation_{date}.log"
  max_log_files: 30
  max_log_size_mb: 50

notifications:
  # Future feature: external notifications
  enabled: false
